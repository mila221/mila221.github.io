<html>
	<head>
		<title>Deeplink</title>
	</head>
	<body>
		<h1>novoo 11</h1>
		<a id="openAppLink" href="addiko://">Open App</a>
	</body>
	<script>
	document.addEventListener("DOMContentLoaded", function() {
	    var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
	    var android = /Android/.test(navigator.userAgent);
	    var huawei = /huawei|HONOR/.test(navigator.userAgent.toLowerCase()); // Note: This is a basic detection and might not be 100% accurate.
	
	    // Define the custom URI scheme for your app here.
	    var appURIios = "addiko://"; // replace 'myapp' with your app's custom URI scheme
	    var appURIandroid = "addiko:";

	    // Define URLs for your app in each app store.
	    var appleAppStoreURL = "https://apps.apple.com/app/id1135444312"; // replace 'YOUR_APP_ID' with your app's ID
	    var googlePlayStoreURL = "https://play.google.com/store/apps/details?id=com.addiko.mobile.serbia"; // replace 'YOUR_PACKAGE_NAME' with your app's package name
	    var huaweiStoreURL = "https://appgallery.huawei.com/app/C104332571"; // replace 'YOUR_APP_DETAILS' with the appropriate path or ID
	
	    // Attempt to open the app using the custom URI scheme.
	    // If the app isn't installed, this will fail and we'll catch that to redirect to the app store.
	    var link = document.getElementById("openAppLink");
	    if (iOS) {
		var visibilityChange;
		    if (typeof document.hidden !== "undefined") { // Opera 12.10 and Firefox 18 and later support
		        visibilityChange = "visibilitychange";
		    } else if (typeof document.msHidden !== "undefined") {
		        visibilityChange = "msvisibilitychange";
		    } else if (typeof document.webkitHidden !== "undefined") {
		        visibilityChange = "webkitvisibilitychange";
		    }
		
		    var hasAppOpened = false;
		
		    document.addEventListener(visibilityChange, function() {
		        if (!document.hidden) {
		            hasAppOpened = true;
		        }
		    }, false);
		
		    setTimeout(function() {
		        if (!hasAppOpened) {
		            window.location = appleAppStoreURL;
		        }
		    }, 2000); // Adjust this delay based on testing. 
		
		    window.location = appURIios;
		//setTimeout(function(){ window.location = appleAppStoreURL; }, 200);
                //window.location = appURIios;
		//link.href = appURIios;
	    } else {
		setTimeout(function(){ window.location = googlePlayStoreURL; }, 200);
                window.location = appURIandroid;
		//link.href = appURIandroid;
	    }
	    //document.getElementById("openAppLink").addEventListener("click", function(event) {
            //    setTimeout(function(){ window.location = "blabla"; }, 100);
            //    window.location = "addiko";
            //});
	});

		
	</script>
</html>
